plugins {
    id 'java'
}

group 'stan.netlogo'
version '1.0'

repositories {
    jcenter()
    mavenCentral()
    maven {
        url "https://dl.bintray.com/netlogo/NetLogo-JVM/"
    }
}

dependencies {
    implementation group: 'org.nlogo', name: 'netlogo', version: '6.1.1'
    testImplementation 'org.junit.jupiter:junit-jupiter-api:5.6.0'
    testRuntimeOnly 'org.junit.jupiter:junit-jupiter-engine'
}

test {
    useJUnitPlatform()
}

jar {
    archivesBaseName = 'extension'
    archiveVersion = ''
    manifest {
        attributes(
                'Manifest-Version'               : "1.0",
                'Extension-Name'                 : archivesBaseName,
                'Class-Manager'                  : "org.nlogo.extensions.Manager",
                'NetLogo-Extension-API-Version'  : "6.1.1"
        )
    }
}
task copyJar(type: Copy) {
    from jar // here it automatically reads jar file produced from jar task
    into '/Users/stanvanderbend/Documents/AT/extension'
}

build.dependsOn copyJar